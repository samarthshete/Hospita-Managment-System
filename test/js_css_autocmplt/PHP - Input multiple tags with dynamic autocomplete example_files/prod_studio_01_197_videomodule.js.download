self.studioLoader.context.evalInContext("var im=function(a){return(a=a.exec(Qb))?a[1]:\"\"};(function(){if(nh)return im(/Firefox\\/([0-9.]+)/);if(D||fc||ec)return oc;if(rh)return ac()?im(/CriOS\\/([0-9.]+)/):im(/Chrome\\/([0-9.]+)/);if(sh&&!ac())return im(/Version\\/([0-9.]+)/);if(oh||ph){var a=/Version\\/(\\S+).*Mobile\\/(\\S+)/.exec(Qb);if(a)return a[1]+\".\"+a[2]}else if(qh)return(a=im(/Android\\s+([0-9.]+)/))?a:im(/Version\\/([0-9.]+)/);return\"\"})();var jm={},km=/OS (\\S+) like/,lm=/Android (\\S+);/,mm=function(a,b){null==jm[b]&&((a=a.exec(Qb))?(a=a[1].replace(/_/g,\".\"),jm[b]=0<=Na(a,b)):jm[b]=!1);return jm[b]};var nm=function(){K.call(this);this.f=this.h=this.c=!1;this.b=0;this.i=[];this.s=!1};y(nm,K);var om=function(a,b){null==b||a.c||(a.a=b,a.B=!oh&&!ph,a.v=oh||ph,a.B?a.a.addEventListener(\"click\",w(a.l,a),!1):a.v&&(a.a.addEventListener(\"touchstart\",w(a.L,a),!1),a.a.addEventListener(\"touchmove\",w(a.J,a),!1),a.a.addEventListener(\"touchend\",w(a.C,a),!1)),a.c=!0)},pm=function(a){null!=a.a&&a.c&&(a.c=!1,a.B?a.a.removeEventListener(\"click\",w(a.l,a),!1):a.v&&(a.a.removeEventListener(\"touchstart\",w(a.L,a),!1),a.a.removeEventListener(\"touchmove\",w(a.J,a),!1),a.a.removeEventListener(\"touchend\",w(a.C,a),!1)))};nm.prototype.L=function(a){this.h=!0;this.b=a.touches.length;this.s=qm(this,a.touches)||1!=a.touches.length;rm(this,a.touches)};nm.prototype.J=function(a){this.f=!0;this.b=a.touches.length};nm.prototype.C=function(a){this.h&&1==this.b&&!this.f&&!this.s&&qm(this,a.changedTouches)&&this.dispatchEvent(new J(\"click\"));this.b=a.touches.length;0==this.b&&(this.f=this.h=!1)};nm.prototype.l=function(){this.dispatchEvent(new J(\"click\"))};var rm=function(a,b){a.i=[];z(b,function(a){var b=this.i;a=a.identifier;0<=Sa(b,a)||b.push(a)},a)},qm=function(a,b){return Ua(b,function(a){return 0<=Sa(this.i,a.identifier)},a)};var sm=function(a){J.call(this,a)};y(sm,J);var tm=function(){K.call(this)};y(tm,K);var um=function(){K.call(this);this.f=new G;this.i=new nm;this.l=\"none\"};y(um,K);var xm=function(a){this.width=vm(a).width;this.height=vm(a).height;this.c=!1;this.b=a.a.muted;this.a=wm(a);this.volume=a.a.volume};xm.prototype.muted=function(a,b){return!this.b&&a||0<this.volume&&0==b};um.prototype.o=function(){ym(this);um.j.o.call(this)};var ym=function(a){null!=a.b&&a.b.dispose();null!=a.h&&a.h.dispose();null!=a.a&&zm(a.a);Pd(a.f);pm(a.i)},Y=function(a,b,c){c&&null!=a.f.get(b)||(a.f.set(b,!0),a.dispatchEvent(new sm(b)))},Am=function(a,b){null!=a.f.get(b)&&Qd(a.f,b)};g=um.prototype;g.qd=function(){a:{var a=this.a;if(a.a.seeking&&!a.h)a.h=!0,a.i=Bm(a);else{if(!a.a.seeking&&a.h){a.h=!1;var b=0!=a.a.currentTime&&a.a.currentTime<a.i;a.i=-1;break a}if(!a.a.seeking&&0!=a.a.currentTime&&Bm(a)>a.a.currentTime){b=.5<Bm(a)-a.a.currentTime;break a}}b=!1}a=Cm(this.a);if(b&&(Y(this,\"rewind\",!1),-1!=a)){Dm(this.a,.75*a)||Am(this,\"thirdquartile\");Dm(this.a,.5*a)||Am(this,\"midpoint\");Dm(this.a,.25*a)||Am(this,\"firstquartile\");a:{b=this.a;for(var c=b.c.H(),d=c.length-1;0<=d;d--)if(.5>c[d]){c=b.c;c=0==c.S()?null:c.get(c.S()-1);d=b.c;d.a.length=0;d.b=0;.5<=c&&b.c.add(c);b=!0;break a}b=!1}b&&Y(this,\"replay\",!1)}-1!=a&&(Dm(this.a,.25*a)&&Y(this,\"firstquartile\",!0),Dm(this.a,.5*a)&&Y(this,\"midpoint\",!0),Dm(this.a,.75*a)&&Y(this,\"thirdquartile\",!0))};g.pd=function(){Y(this,\"creativeview\",!0);null!=this.s?(this.b.w(this.i,\"click\",this.ld,!1),om(this.i,this.s)):this.b.w(this.a,\"click\",this.Sd);Y(this,\"start\",!0);(this.a.a.muted||0==this.a.a.volume)&&Y(this,\"mute\",!1)};g.rd=function(){var a=this.a.a.muted,b=this.a.a.volume,c=this.c;c.b&&!a||!a&&0==c.volume&&0<b?Y(this,\"unmute\",!1):this.c.muted(a,b)&&Y(this,\"mute\",!1);this.c.b=a;this.c.volume=b};g.od=function(){if(this.a.a.ended)Y(this,\"complete\",!0);else{var a;if(a=\"pausedAtBeginning\"==this.l)a=this.a,a=!isNaN(a.a.duration)&&0<a.a.duration&&0==a.a.currentTime;a?Y(this,\"stop\",!0):Em(this.a)&&!this.a.a.seeking&&(this.c.c=!0,Y(this,\"pause\",!1))}};g.Rd=function(){this.c.c&&(this.c.c=!1,Y(this,\"resume\",!1))};g.md=function(){var a=this.a;if(!qh||qh&&mm(lm,2.3))a=!0;else{var b=a.a.duration-Bm(a);a=0==a.a.currentTime&&1.5>=b}a?\"pausedAtEnd\"==this.l&&Em(this.a)?Y(this,\"stop\",!0):Y(this,\"complete\",!0):this.a.a.pause()};g.ld=function(){Y(this,\"click\",!1)};g.nd=function(){Y(this,\"error\",!1)};g.Sd=function(){Y(this,\"click\",!1)};g.Vb=function(){this.c.a=!0;Y(this,\"fullscreen\",!1)};g.Ub=function(){this.c.a=!1};g.Qd=function(){var a=vm(this.a),b=wm(this.a),c=this.c;if(a.width!=c.width||a.height!=c.height)!this.c.a&&b?this.Vb():this.c.a&&!b&&this.Ub(),this.c.width=a.width,this.c.height=a.height};var Fm=function(a){this.b=0;this.c=a||100;this.a=[]};g=Fm.prototype;g.add=function(a){var b=this.a[this.b];this.a[this.b]=a;this.b=(this.b+1)%this.c;return b};g.get=function(a){a=Gm(this,a);return this.a[a]};g.set=function(a,b){a=Gm(this,a);this.a[a]=b};g.S=function(){return this.a.length};g.H=function(){var a=this.S(),b=this.S(),c=[];for(a=this.S()-a;a<b;a++)c.push(this.get(a));return c};g.M=function(){for(var a=[],b=this.S(),c=0;c<b;c++)a[c]=c;return a};g.O=function(a){return a<this.S()};g.ya=function(a){for(var b=this.S(),c=0;c<b;c++)if(this.get(c)==a)return!0;return!1};var Gm=function(a,b){if(b>=a.a.length)throw Error(\"Out of bounds exception\");return a.a.length<a.c?b:(a.b+Number(b))%a.c};var Hm=function(a){K.call(this);this.a=a;this.c=new Fm(4);this.i=-1;this.l=this.h=!1};y(Hm,tm);var Cm=function(a){return isNaN(a.a.duration)?-1:a.a.duration},Em=function(a){return a.a.paused?oh||ph||rh?a.a.currentTime<a.a.duration:!0:!1},wm=function(a){return oh?a.a.webkitSupportsFullscreen&&a.a.webkitDisplayingFullscreen:a.a.offsetWidth>=document.body.offsetWidth&&a.a.offsetHeight>=document.body.offsetHeight},Dm=function(a,b){return Bm(a)>=b},Bm=function(a){for(a=a.c.H();a.length;){var b=a.pop();if(0<b)return b}return-1},vm=function(a){return new Jc(a.a.offsetWidth,a.a.offsetHeight)};Hm.prototype.o=function(){Hm.j.o.call(this);zm(this)};var zm=function(a){null!=a.f&&(pm(a.f),a.f=null);null!=a.b&&(a.b.dispose(),a.b=null);a.i=-1;a.l=!1;a.h=!1;a=a.c;a.a.length=0;a.b=0},Im=function(a){a.l||(a.l=!0,a.dispatchEvent(\"start\"),!qh&&(!oh||(oh||ph)&&mm(km,4))||a.Wb())};g=Hm.prototype;g.Pd=function(){sh&&(this.a.currentTime=.001)};g.ac=function(){this.dispatchEvent(\"play\");oh||ph||Im(this)};g.yd=function(){this.l||((oh||ph)&&0<this.a.currentTime&&Im(this),hc&&this.ac());this.c.add(this.a.currentTime);this.dispatchEvent(\"timeUpdate\")};g.zd=function(){this.dispatchEvent(\"volumeChange\")};g.xd=function(){this.dispatchEvent(\"pause\")};g.ud=function(){this.dispatchEvent(\"end\")};g.Wb=function(){this.dispatchEvent(\"beginFullscreen\")};g.wd=function(){this.dispatchEvent(\"endFullscreen\")};g.vd=function(){this.dispatchEvent(\"error\")};g.sd=function(){this.dispatchEvent(\"click\")};var Jm={},Km=function(a){this.i=a;this.f=this.g=!0;this.c=new um;this.c.l=\"pausedAtBeginning\";this.A=this.a=this.b=null;yi(w(this.B,this))},Lm=new G;Km.prototype.s=!1;Km.prototype.l=!1;Km.prototype.h=!0;var Mm=function(a){var b=Lm.get(a);null==b&&(b=new Km(a),Lm.set(a,b));return b};Km.prototype.B=function(a){this.a=a;Nm(this)};var Nm=function(a){Om(a,!1);Om(a,!0);if(null!=a.a&&null!=a.A){var b=a.c,c=a.b;ym(b);b.a=c;c=b.a;zm(c);c.b=new M(c);c.b.w(c.a,\"canplay\",c.Pd);c.b.w(c.a,\"ended\",c.ud);c.b.w(c.a,\"webkitbeginfullscreen\",c.Wb);c.b.w(c.a,\"webkitendfullscreen\",c.wd);c.b.w(c.a,\"pause\",c.xd);c.b.w(c.a,\"playing\",c.ac);c.b.w(c.a,\"timeupdate\",c.yd);c.b.w(c.a,\"volumechange\",c.zd);c.b.w(c.a,\"error\",c.vd);c.f=new nm;c.b.w(c.f,\"click\",c.sd,!1);om(c.f,c.a);b.c=new xm(b.a);b.s=null;b.b=new M(b);b.b.w(b.a,\"timeUpdate\",b.qd,!1);b.b.w(b.a,\"volumeChange\",b.rd,!1);b.b.w(b.a,\"pause\",b.od,!1);b.b.w(b.a,\"play\",b.Rd,!1);b.b.w(b.a,\"end\",b.md,!1);b.b.w(b.a,\"beginFullscreen\",b.Vb,!1);b.b.w(b.a,\"endFullscreen\",b.Ub,!1);b.b.w(b.a,\"start\",b.pd,!1);b.b.w(b.a,\"error\",b.nd,!1);b.h=new De(1E3);Kf(b.b,b.h,\"tick\",b.Qd,!1,b);b.h.start();a.b.w(\"timeUpdate\",a.rc,!1,a);a.A.paused?a.c.w(\"start\",a.Na,!1,a):a.Na()}},Om=function(a,b){Pm(a,b,\"resume\",a.Na);Pm(a,b,\"replay\",a.Wd);Pm(a,b,\"pause\",a.Td);Pm(a,b,\"stop\",a.ie);Pm(a,b,\"mute\",a.Nd);Pm(a,b,\"unmute\",a.pe);Pm(a,b,\"firstquartile\",a.Lc);Pm(a,b,\"midpoint\",a.Md);Pm(a,b,\"thirdquartile\",a.ne);Pm(a,b,\"complete\",a.Bc)},Pm=function(a,b,c,d){(b?a.c.w:a.c.aa).call(a.c,c,d,!1,a)};g=Km.prototype;g.Na=function(){this.c.aa(\"start\",this.Na,!1,this);Qm(this,\"play\",!this.h);Rm(this,\"Start\");this.h=!1;null!=this.a&&this.f&&!this.s&&(this.a.s(),this.s=!0)};g.Wd=function(){Qm(this,\"replay\",!0);Rm(this,\"Stop\");this.g=!1};g.Td=function(){Qm(this,\"pause\",!0);Rm(this,\"Stop\")};g.ie=function(){Qm(this,\"stop\",!0);Rm(this,\"Stop\");this.g=!1};g.Nd=function(){Qm(this,\"mute\",!this.h)};g.pe=function(){Qm(this,\"unmute\",!this.h)};g.Lc=function(){Qm(this,\"firstquartile\")};g.Md=function(){Qm(this,\"midpoint\")};g.ne=function(){Qm(this,\"thirdquartile\")};g.Bc=function(){Qm(this,\"complete\");Rm(this,\"Stop\");this.g=!1;null!=this.a&&this.f&&!this.l&&(this.a.s(),this.l=!0)};g.rc=function(a){N(this.a.D,\"updateVideoProgress\",[\"EVENT_VIDEO_\"+a.type.toUpperCase(),Cm(this.b),this.b.a.currentTime])};var Qm=function(a,b,c){null!=a.a&&a.f&&(c&&$g(a.a.b,\"Count\",a.i,\"EVENT_VIDEO_INTERACTION\"),$g(a.a.b,\"Count\",a.i,\"EVENT_VIDEO_\"+b.toUpperCase()))},Rm=function(a,b){null!=a.a&&a.f&&a.g&&$g(a.a.b,b,a.i,\"EVENT_VIDEO_VIEW_TIMER\")};var Sm=function(a){I.call(this);this.c=a;this.a={};this.b=null;yi(w(this.g,this))};y(Sm,I);q(\"studio.video.Reporter\",Sm,void 0);var Tm=new G,Um=function(a,b,c){var d=Mm(a);\"boolean\"==typeof c&&(d.h=c);ym(d.c);d.g=!0;d.f=!0;d.A=b;d.b=new Hm(d.A);Nm(d);Tm.O(a)||Tm.set(a,new Sm(b))};Sm.attach=Um;Sm.prototype.g=function(a){this.b=a;this.b.qb(this.c)};Sm.prototype.o=function(){for(var a in this.a)this.c[a]=this.a[a];Sm.j.o.call(this)};var Vm=function(a){a=Mm(a);null==a.b||Em(a.b)||a.b.a.ended||(Qm(a,\"stop\",!1),Rm(a,\"Stop\"),a.g=!1);Om(a,!1);a.f=!1;a.A=null;ym(a.c);a.b&&(a.b.aa(\"timeUpdate\",a.rc,!1,a),a.b.dispose())};Sm.detach=Vm;var Wm=function(){};var Xm,Ym=function(){};y(Ym,Wm);var Zm=function(a){a:{if(!a.a&&\"undefined\"==typeof XMLHttpRequest&&\"undefined\"!=typeof ActiveXObject){for(var b=[\"MSXML2.XMLHTTP.6.0\",\"MSXML2.XMLHTTP.3.0\",\"MSXML2.XMLHTTP\",\"Microsoft.XMLHTTP\"],c=0;c<b.length;c++){var d=b[c];try{new ActiveXObject(d);var e=a.a=d;break a}catch(f){}}throw Error(\"Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed\");}e=a.a}return e?new ActiveXObject(e):new XMLHttpRequest};Xm=new Ym;var an=function(a,b){b=b?ob(b):{};b.responseType=\"blob\";return $m(\"GET\",a,b).then(function(a){return a.response})},$m=function(a,b,c){var d=c||{},e=d.te?Zm(d.te):Zm(Xm);return kd(new bd(function(c,k){var f;try{e.open(a,b,!0)}catch(ja){k(new bn(\"Error opening XHR: \"+ja.message,b))}e.onreadystatechange=function(){if(4==e.readyState){h.clearTimeout(f);a:switch(e.status){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break a;default:a=!1}!a&&(a=0===e.status)&&(a=b.match(pf)[1]||null,!a&&h.self&&h.self.location&&(a=h.self.location.protocol,a=a.substr(0,a.length-1)),a=a?a.toLowerCase():\"\",a=!(\"http\"==a||\"https\"==a||\"\"==a));a?c(e):k(new cn(e.status,b))}};e.onerror=function(){k(new bn(\"Network error\",b))};if(d.headers){for(var C in d.headers){var H=d.headers[C];null!=H&&e.setRequestHeader(C,H)}H=d.headers[\"Content-Type\"]}C=h.FormData&&!1;\"POST\"!=a||void 0!==H||C||e.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded;charset=utf-8\");d.withCredentials&&(e.withCredentials=d.withCredentials);d.responseType&&(e.responseType=d.responseType);d.mimeType&&e.overrideMimeType(d.mimeType);0<d.oe&&(f=h.setTimeout(function(){e.onreadystatechange=r;e.abort();k(new dn(b))},d.oe));try{e.send(null)}catch(ja){e.onreadystatechange=r,h.clearTimeout(f),k(new bn(\"Error sending XHR: \"+ja.message,b))}}),function(a){a instanceof ld&&e.abort();throw a;})},bn=function(a,b){ta.call(this,a+\", url=\"+b);this.url=b};y(bn,ta);bn.prototype.name=\"XhrError\";var cn=function(a,b){bn.call(this,\"Request Failed, status=\"+a,b);this.status=a};y(cn,bn);cn.prototype.name=\"XhrHttpError\";var dn=function(a){bn.call(this,\"Request timed out\",a)};y(dn,bn);dn.prototype.name=\"XhrTimeoutError\";q(\"studio.sdk.video.VideoResource.getBlobForUrl\",function(a){return zi().then(function(b){b=b.Aa(a);return\"file:\"==window.location.protocol?fd(Error(\"You cannot fetch the blob of a video when running locally. Run a local web server to test this creative (For example, python -m SimpleHTTPServer).\")):Ia(b,\"/itag/\")?en(fn(b)).then(an):an(b)})},void 0);var en=function(a){return $m(\"HEAD\",a).then(function(b){return gn(b)?$m(\"GET\",a).then(function(a){return en(a.response)}):a})},fn=function(a){return Ia(a,\"/itag/\")&&!Ia(a,\"/alr/yes/\")?(a=a.split(\"/\"),a.splice(a.length-2,0,\"alr\",\"yes\"),a.join(\"/\")):a},gn=function(a){a=a.getResponseHeader(\"Content-Type\");return Ia(a,\"text/plain\")};");
